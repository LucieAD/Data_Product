---
title: The Infection and Immunity Immunophenotyping wild type data
author: "Lucie AD"
date: "6 January 2018"
output:
  ioslides_presentation:
    widescreen: true
    smaller: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## The Infection and Immunity Immunophenotyping consortium

The Infection and Immunity Immunophenotyping (3i) consortium conducts a high-throughput immunological phenotyping of over 500 knockout mouse lines generated by the Wellcome Trust Sanger Institute in Cambridge, UK.
<br><br>

Aims of the consortium

- better understand gene function
- help patients with rare monogenetic diseases understand their condition
- develop mouse models for these diseases
- identify new pathways and proteins that could be targets for drug design

<br><br>
For further information, visit [immunophenotype.org](www.immunophenotype.org).

## Phenotypic screening

The phenotyping has two components, an observational screen and a challenge screen. The observatioal screen studies the immune compartments from healthy mice at 16 weeks of age and aims to identify genes which regulate the immune system at steady state. The challenge screen analysis responses to bacterial, viral and parasitic infections and chemical stress and aims to identify genes that regulate the immune system in action.
<br><br>

In both screens, knockout mice are compared to wild type mice. A lot of effort went into developping a statistical pipeline that minimises the number of controls required, but during the analysis of over 500 ko lines over several years, we still obtained data from several hundered wild type mice.
<br><br>

This dataset proved to be a ot more interesting than anticipated. To our knowledge this is the first time that the immune system of wild type mice has been mapped this thorougly. The data can serve as a reference of normality for experiments in other settings.
<br><br>

Slide 4 contains the treemap that was used to construct the shiny app and slide 5 the accompanying code.

## A map of the mouse immmune system

```{r, echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE, fig.width = 9, fi.heigt=6}

library(dplyr)
library(treemap)
library(RColorBrewer)

## Load data
flow_treemap <- read.csv("Flow_for_map.csv")

# Subset data
chosen_subset <- filter(flow_treemap, Genotype=="wt", Organ=="Spleen", Sex=="female")

# treemap
map <- treemap(chosen_subset,
        index=c("Cell.Type", "Activation.status"),
        vSize="Number",
        type="index",
        title="",
        palette="Accent",
        fontcolor.labels=c("transparent","white"),
        bg.labels=c("transparent"),
        border.col=c("white", "white")
)
```

## Code for map

```{r, echo=TRUE, eval=FALSE, message=FALSE, warning=FALSE, fig.width = 9, fi.heigt=6}

library(dplyr)
library(treemap)
library(RColorBrewer)

## Load data
flow_treemap <- read.csv("Flow_for_map.csv")

# Pick subset of data to be displayed in treemap
chosen_subset <- filter(flow_treemap, Genotype=="wt", Organ=="Spleen", Sex=="female")

# treemap
map <- treemap(chosen_subset,
        index=c("Cell.Type", "Activation.status"),
        vSize="Number",
        type="index",
        title="",
        palette="Accent",
        fontcolor.labels=c("transparent","white"),
        bg.labels=c("transparent"),
        border.col=c("white", "white")
)
```

